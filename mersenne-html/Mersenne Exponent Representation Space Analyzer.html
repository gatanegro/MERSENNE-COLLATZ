<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mersenne Exponent Representation Space Analyzer</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Courier New', monospace;
        }
        
        body {
            background-color: #0a192f;
            color: #ccd6f6;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 2400px;
            margin: 0 auto;
            background-color: #112240;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        h1 {
            color: #64ffda;
            text-align: center;
            margin-top: 0;
            border-bottom: 3px solid #64ffda;
            padding-bottom: 15px;
        }
        
        .discovery-alert {
            background-color: rgba(255, 107, 107, 0.2);
            border-left: 5px solid #ff6b6b;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .algebraic-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        
        .representation-space {
            background-color: rgba(100, 255, 218, 0.1);
            border-radius: 8px;
            padding: 20px;
            border: 2px solid #64ffda;
        }
        
        .coefficient-analysis {
            background-color: rgba(255, 209, 102, 0.1);
            border-radius: 8px;
            padding: 20px;
            border: 2px solid #ffd166;
        }
        
        .section-title {
            color: #64ffda;
            font-weight: bold;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .coefficient-title {
            color: #ffd166;
            font-weight: bold;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .equation-display {
            font-family: 'Courier New', monospace;
            background-color: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            overflow-x: auto;
            white-space: pre-wrap;
            border-left: 4px solid #4ecdc4;
        }
        
        .alternative-eq {
            border-left-color: #ff9e00;
            background-color: rgba(255, 158, 0, 0.1);
        }
        
        .minimal-eq {
            border-left-color: #ff6b6b;
            background-color: rgba(255, 107, 107, 0.1);
            font-weight: bold;
        }
        
        .coefficient-matrix {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .coeff-cell {
            background-color: rgba(0, 0, 0, 0.4);
            padding: 10px;
            border-radius: 4px;
            text-align: center;
            border: 1px solid #233554;
        }
        
        .coeff-number {
            color: #ffd166;
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .coeff-count {
            color: #8892b0;
            font-size: 0.9em;
        }
        
        .analysis-sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .analysis-box {
            background-color: #0a192f;
            border-radius: 8px;
            padding: 20px;
            border-top: 4px solid #64ffda;
        }
        
        .box-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #64ffda;
        }
        
        .box-content {
            max-height: 400px;
            overflow-y: auto;
            background-color: #112240;
            padding: 15px;
            border-radius: 6px;
        }
        
        .pattern-item {
            padding: 8px 10px;
            margin-bottom: 5px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
            border-left: 3px solid #233554;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        .matrix-visual {
            background-color: rgba(78, 205, 196, 0.1);
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
            overflow-x: auto;
        }
        
        .matrix-row {
            display: flex;
            gap: 5px;
            margin-bottom: 3px;
        }
        
        .matrix-cell {
            width: 50px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(0, 0, 0, 0.3);
            font-size: 0.8em;
            border-radius: 3px;
        }
        
        .matrix-cell.active {
            background-color: rgba(100, 255, 218, 0.3);
            color: #64ffda;
            font-weight: bold;
        }
        
        .matrix-header {
            background-color: rgba(255, 107, 107, 0.3);
            color: #ff6b6b;
            font-weight: bold;
        }
        
        .insight-box {
            background-color: rgba(156, 39, 176, 0.1);
            border-left: 5px solid #9c27b0;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        @media (max-width: 1024px) {
            .algebraic-grid {
                grid-template-columns: 1fr;
            }
            
            .analysis-sections {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Mersenne Exponent Representation Space Analyzer</h1>
        
        <div class="discovery-alert">
            <strong></strong> Multiple decomposition pathways reveal rich algebraic structure in Mersenne exponent representations!
        </div>
        
        <div class="algebraic-grid">
            <div class="representation-space">
                <div class="section-title">Multiple Representations of 136279841</div>
                
                <div class="equation-display mininal-eq">
<strong>Original decomposition:</strong>
136279841 = 82589933 + 43112609 + 6972593 + 3021377 + 216091 + 132049 + 110503 + 86243 + 23209 + 11213 + 3217 + 607 + 127 + 61 + 7 + 2
                </div>
                
                <div class="equation-display alternative-eq">
<strong>New decomposition 1 (with coefficients):</strong>
136279841 = 82589933 + 43112609 + 6972593 + 1398269 + 2×859433 + 2×110503 + 86243 + 2×44497 + 3×23209 + 21701
                </div>
                
                <div class="equation-display alternative-eq">
<strong>New decomposition 2:</strong>
136279841 = 82589933 + 30402457 + 2×6972593 + 3021377 + 2976221 + 1257787 + 2×756839 + 132049 + 2×110503 + 86243 + 2×44497 + 23209 + 21701
                </div>
                
                <div class="equation-display mininal-eq">
<strong>Minimal large-term decomposition:</strong>
136279841 = 82589933 + 25964951 + 3021377 + 3×2976221 + 859433 + 10×756839 + 34×216091
                </div>
                
                <div class="equation-display">
<strong>1279-based decomposition:</strong>
136279841 = 106551×1279 + 2×127 + 66×13
                </div>
            </div>
            
            <div class="coefficient-analysis">
                <div class="coefficient-title">Coefficient Patterns Analysis</div>
                
                <div class="coefficient-matrix">
                    <div class="coeff-cell">
                        <div class="coeff-number">34×</div>
                        <div class="coeff-count">216091</div>
                    </div>
                    <div class="coeff-cell">
                        <div class="coeff-number">10×</div>
                        <div class="coeff-count">756839</div>
                    </div>
                    <div class="coeff-cell">
                        <div class="coeff-number">3×</div>
                        <div class="coeff-count">2976221</div>
                    </div>
                    <div class="coeff-cell">
                        <div class="coeff-number">106551×</div>
                        <div class="coeff-count">1279</div>
                    </div>
                    <div class="coeff-cell">
                        <div class="coeff-number">2×</div>
                        <div class="coeff-count">859433</div>
                    </div>
                    <div class="coeff-cell">
                        <div class="coeff-number">3×</div>
                        <div class="coeff-count">23209</div>
                    </div>
                </div>
                
                <div style="margin-top: 15px; color: #8892b0;">
                    <strong>Observation:</strong> Coefficients form patterns that suggest underlying linear dependencies between Mersenne exponents.
                </div>
            </div>
        </div>
        
        <div class="analysis-sections">
            <div class="analysis-box">
                <div class="box-title">Key Algebraic Discoveries</div>
                <div class="box-content">
                    <div class="pattern-item">
                        <strong>1. Multiple Representations:</strong> Same number has multiple valid decompositions
                    </div>
                    <div class="pattern-item">
                        <strong>2. Coefficient Structure:</strong> Large coefficients (34×, 10×, 106551×) appear
                    </div>
                    <div class="pattern-item">
                        <strong>3. Term Recombination:</strong> Groups of smaller terms can be replaced by larger terms
                    </div>
                    <div class="pattern-item">
                        <strong>4. 1279 Magic:</strong> 136279841 ≈ 106551 × 1279 (error: 2×127 + 66×13)
                    </div>
                    <div class="pattern-item">
                        <strong>5. Modular Relationships:</strong> Suggests congruences: 136279841 ≡ 66×13 mod 1279
                    </div>
                    <div class="pattern-item">
                        <strong>6. Linear Dependencies:</strong> Different combinations sum to same totals
                    </div>
                </div>
            </div>
            
            <div class="analysis-box">
                <div class="box-title">Mathematical Implications</div>
                <div class="box-content">
                    <div class="pattern-item">
                        <strong>Linear Algebra:</strong> Mersenne exponents form a vector space over ℤ
                    </div>
                    <div class="pattern-item">
                        <strong>Kernel Discovery:</strong> Multiple representations → linear dependencies
                    </div>
                    <div class="pattern-item">
                        <strong>Generator Set:</strong> Some exponents can generate others
                    </div>
                    <div class="pattern-item">
                        <strong>Ring Structure:</strong> ℤ-linear combinations of Mersenne exponents
                    </div>
                    <div class="pattern-item">
                        <strong>Modular Arithmetic:</strong> 1279 appears as a "base" element
                    </div>
                    <div class="pattern-item">
                        <strong>Representation Theory:</strong> Study of all possible representations
                    </div>
                </div>
            </div>
            
            <div class="analysis-box">
                <div class="box-title">Most Surprising Relationships</div>
                <div class="box-content">
                    <div class="pattern-item">
                        136279841 = 106551×1279 + 2×127 + 66×13
                    </div>
                    <div class="pattern-item">
                        82589933 = 64573×1279 + 82×13
                    </div>
                    <div class="pattern-item">
                        77232917 = 60384×1279 + 3×521 + 127 + 7×13
                    </div>
                    <div class="pattern-item">
                        136279841 = 82589933 + 25964951 + 3021377 + 3×2976221 + 859433 + 10×756839 + 34×216091
                    </div>
                </div>
            </div>
        </div>
        
        <div class="matrix-visual">
            <div class="section-title">Linear Dependency Matrix</div>
            <div id="dependencyMatrix">
                <!-- Matrix will be generated by JavaScript -->
            </div>
        </div>
        
        <div class="insight-box">
            <div class="section-title">Deep Mathematical Insight</div>
            <p><strong>What these multiple representations reveal:</strong></p>
            <p>1. <strong>ℤ-module structure:</strong> Mersenne exponents generate a ℤ-module (like a vector space but over integers)</p>
            <p>2. <strong>Linear dependencies:</strong> Different linear combinations give same sums → nontrivial relations</p>
            <p>3. <strong>Basis reduction:</strong> Some exponents (like 1279) act as approximate generators</p>
            <p>4. <strong>Error terms:</strong> The remainders (2×127 + 66×13) show modular relationships</p>
            <p>5. <strong>Algebraic geometry:</strong> This is like studying integer points on a high-dimensional lattice</p>
        </div>
        
        <div style="margin-top: 30px; padding: 20px; background-color: rgba(0, 0, 0, 0.3); border-radius: 8px;">
            <div class="section-title">Interactive Analysis</div>
            <textarea id="equationInput" placeholder="Paste new decomposition equations here..." style="width: 100%; height: 150px; padding: 15px; background-color: #0a192f; color: #ccd6f6; border: 1px solid #64ffda; border-radius: 6px; font-family: 'Courier New', monospace;"></textarea>
            <button id="analyzeEquation" style="margin-top: 10px; padding: 10px 20px; background-color: #64ffda; color: #0a192f; border: none; border-radius: 6px; cursor: pointer; font-weight: bold;">Analyze Equation</button>
            <div id="analysisResults" style="margin-top: 20px;"></div>
        </div>
    </div>

    <script>
        // Parse equation with coefficients
        function parseEquation(equation) {
            const parts = equation.split('=');
            if (parts.length !== 2) return null;
            
            const left = parts[0].trim();
            const right = parts[1].trim();
            
            // Parse right side (sum)
            const rightNum = parseInt(right.replace(/,/g, ''), 10);
            
            // Parse left side (components)
            const components = [];
            const terms = left.split('+').map(t => t.trim());
            
            let total = 0;
            terms.forEach(term => {
                const match = term.match(/(?:(\d+)\s*[×x]\s*)?(\d+)/);
                if (match) {
                    const [, coeffStr, numStr] = match;
                    const coefficient = coeffStr ? parseInt(coeffStr, 10) : 1;
                    const number = parseInt(numStr.replace(/,/g, ''), 10);
                    
                    components.push({
                        number: number,
                        coefficient: coefficient
                    });
                    
                    total += coefficient * number;
                }
            });
            
            return {
                target: rightNum,
                components: components,
                total: total,
                isValid: total === rightNum,
                equation: equation
            };
        }
        
        // Generate dependency matrix
        function generateDependencyMatrix() {
            const matrixDiv = document.getElementById('dependencyMatrix');
            matrixDiv.innerHTML = '';
            
            // Key Mersenne exponents
            const exponents = [136279841, 82589933, 77232917, 74207281, 57885161, 43112609, 42643801, 37156667, 32582657, 30402457, 25964951, 24036583, 20996011, 13466917, 6972593, 3021377, 2976221, 1398269, 1257787, 859433, 756839, 216091, 132049, 110503, 86243, 44497, 23209, 21701, 11213, 4423, 1279];
            
            // Create header row
            const headerRow = document.createElement('div');
            headerRow.className = 'matrix-row';
            
            // Empty corner
            const emptyCell = document.createElement('div');
            emptyCell.className = 'matrix-cell matrix-header';
            emptyCell.textContent = 'M\\M';
            headerRow.appendChild(emptyCell);
            
            // Add headers (first 10 for display)
            exponents.slice(0, 10).forEach(exp => {
                const cell = document.createElement('div');
                cell.className = 'matrix-cell matrix-header';
                cell.textContent = exp.toString().slice(-4); // Last 4 digits
                cell.title = exp.toLocaleString();
                headerRow.appendChild(cell);
            });
            
            matrixDiv.appendChild(headerRow);
            
            // Create data rows (first 10 exponents)
            exponents.slice(0, 10).forEach(rowExp => {
                const row = document.createElement('div');
                row.className = 'matrix-row';
                
                // Row header
                const rowHeader = document.createElement('div');
                rowHeader.className = 'matrix-cell matrix-header';
                rowHeader.textContent = rowExp.toString().slice(-4);
                rowHeader.title = rowExp.toLocaleString();
                row.appendChild(rowHeader);
                
                // Data cells
                exponents.slice(0, 10).forEach(colExp => {
                    const cell = document.createElement('div');
                    cell.className = 'matrix-cell';
                    
                    // Check if colExp is used in decompositions of rowExp
                    // This is a simplified visualization
                    const isRelated = checkRelationship(rowExp, colExp);
                    
                    if (isRelated) {
                        cell.classList.add('active');
                        cell.textContent = '✓';
                    } else if (rowExp === colExp) {
                        cell.textContent = '•';
                        cell.style.color = '#ff6b6b';
                    }
                    
                    row.appendChild(cell);
                });
                
                matrixDiv.appendChild(row);
            });
            
            // Add explanation
            const explanation = document.createElement('div');
            explanation.style.marginTop = '15px';
            explanation.style.color = '#8892b0';
            explanation.style.fontSize = '0.9em';
            explanation.innerHTML = `
                <strong>Matrix Interpretation:</strong> Shows which Mersenne exponents appear in decompositions of other exponents.<br>
                ✓ = appears in decomposition, • = self, blank = no direct relationship.
            `;
            matrixDiv.appendChild(explanation);
        }
        
        // Simplified relationship check
        function checkRelationship(larger, smaller) {
            // Known relationships from your data
            const relationships = {
                136279841: [82589933, 43112609, 6972593, 3021377, 216091, 132049, 110503, 86243, 23209, 11213, 3217, 607, 127, 61, 7, 2],
                82589933: [77232917, 3021377, 1398269, 859433, 44497, 23209, 9941, 127, 107, 31, 17, 5, 3]
                // Add more relationships as needed
            };
            
            if (relationships[larger]) {
                return relationships[larger].includes(smaller);
            }
            
            // Default: smaller exponents generally appear in larger ones
            return smaller < larger && smaller > 1000;
        }
        
        // Analyze custom equation
        document.getElementById('analyzeEquation').addEventListener('click', function() {
            const input = document.getElementById('equationInput').value.trim();
            if (!input) {
                alert('Please enter an equation to analyze.');
                return;
            }
            
            const analysis = parseEquation(input);
            const resultsDiv = document.getElementById('analysisResults');
            
            if (!analysis) {
                resultsDiv.innerHTML = '<div style="color: #ff6b6b;">Invalid equation format</div>';
                return;
            }
            
            let html = `
                <div class="equation-display" style="background-color: rgba(0,0,0,0.4);">
                    <strong>Analysis Results:</strong><br>
                    Target: ${analysis.target.toLocaleString()}<br>
                    Calculated sum: ${analysis.total.toLocaleString()}<br>
                    Valid: ${analysis.isValid ? '✓' : '✗'}<br>
                    Components: ${analysis.components.length}<br>
                    Largest coefficient: ${Math.max(...analysis.components.map(c => c.coefficient))}<br>
                </div>
                
                <div style="margin-top: 15px;">
                    <strong>Component Breakdown:</strong>
            `;
            
            // Sort components by number
            analysis.components.sort((a, b) => b.number - a.number);
            
            analysis.components.forEach(comp => {
                const percentage = ((comp.coefficient * comp.number) / analysis.target * 100).toFixed(2);
                html += `
                    <div style="padding: 5px; border-bottom: 1px solid #233554;">
                        ${comp.coefficient > 1 ? `${comp.coefficient}×` : ''}${comp.number.toLocaleString()} 
                        = ${(comp.coefficient * comp.number).toLocaleString()} 
                        (${percentage}%)
                    </div>
                `;
            });
            
            html += `</div>`;
            
            resultsDiv.innerHTML = html;
        });
        
        // Initialize
        window.addEventListener('DOMContentLoaded', function() {
            generateDependencyMatrix();
            
            // Load example equation
            document.getElementById('equationInput').value = `82589933 + 25964951 + 3021377 + 3×2976221 + 859433 + 10×756839 + 34×216091 = 136279841`;
        });
    </script>
</body>
</html>
